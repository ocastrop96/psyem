$(".datatableDiagnosticos").DataTable({ajax:"public/views/util/datatable-Diagnosticos.php",deferRender:!0,retrieve:!0,processing:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!1,info:!0,autoWidth:!1,language:{url:"public/views/resources/js/dataTables.spanish.lang"}}),$("#rgdCie").keyup(function(){this.value=(this.value+"").replace(/[^a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ.]/g,"")}),$("#rgdDescripcion").keyup(function(){this.value=(this.value+"").replace(/[^a-zA-Z0-9ñÑáéíóúüÁÉÍÓÚÜ ]/g,"")}),$("#edtdDescripcion").keyup(function(){this.value=(this.value+"").replace(/[^a-zA-Z0-9ñÑáéíóúüÁÉÍÓÚÜ ]/g,"")}),$("#edtdCie").keyup(function(){this.value=(this.value+"").replace(/[^a-zA-Z0-9ñÑáéíóúÁÉÍÓÚ.]/g,"")}),$("#rgdCie").keyup(function(){var i=$(this).val().toUpperCase();$("#rgdCie").val(i)}),$("#edtdCie").keyup(function(){var i=$(this).val().toUpperCase();$("#edtdCie").val(i)}),$("#btnRegDiag").on("click",function(){$("#formRegDiag").validate({rules:{rgdCie:{required:!0},rgdDescripcion:{required:!0}},messages:{rgdCie:{required:"CIE 10 requerido"},rgdDescripcion:{required:"Descripción requerida"}},errorElement:"span",errorPlacement:function(i,e){i.addClass("invalid-feedback"),e.closest(".form-group").append(i)},highlight:function(i,e,a){$(i).addClass("is-invalid")},unhighlight:function(i,e,a){$(i).removeClass("is-invalid")}})}),$("#btnEdtDiag").on("click",function(){$("#formEdtDiag").validate({rules:{edtdCie:{required:!0},edtdDescripcion:{required:!0}},messages:{edtdCie:{required:"CIE 10 requerido"},edtdDescripcion:{required:"Descripción requerida"}},errorElement:"span",errorPlacement:function(i,e){i.addClass("invalid-feedback"),e.closest(".form-group").append(i)},highlight:function(i,e,a){$(i).addClass("is-invalid")},unhighlight:function(i,e,a){$(i).removeClass("is-invalid")}})}),$("#rgdCie").change(function(){const i=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500});var e=$(this).val(),a=new FormData;a.append("validarCie",e),$.ajax({url:"public/views/src/ajaxDiagnosticos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(e){e?(i.fire({icon:"warning",title:"El CIE 10 Ingresado ya se encuentra registrado"}),$("#rgdCie").val(""),$("#rgdCie").focus(),$("#rgdDescripcion").val("")):$("#rgdDescripcion").val("")}})}),$("#edtdCie").change(function(){const i=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500});var e=$(this).val(),a=new FormData;a.append("validarCie",e),$.ajax({url:"public/views/src/ajaxDiagnosticos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(e){e&&(i.fire({icon:"warning",title:"El CIE 10 Ingresado ya se encuentra registrado"}),$("#edtdCie").val(""),$("#edtdCie").focus(),$("#edtdDescripcion").val(""))}})}),$(".datatableDiagnosticos tbody").on("click",".btnEditarDiagnostico",function(){var i=$(this).attr("idDiagnostico"),e=new FormData;e.append("idDiagnostico",i),$.ajax({url:"public/views/src/ajaxDiagnosticos.php",method:"POST",data:e,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(i){$("#idDiagnostico").val(i.idDiagnostico),$("#edtdCie").val(i.cieDiagnostico),$("#edtdDescripcion").val(i.detaDiagnostico)}})}),$(".datatableDiagnosticos tbody").on("click",".btnEliminarDiagnostico",function(){var i=$(this).attr("idDiagnostico");Swal.fire({title:"¿Está seguro de eliminar al diagnóstico?",text:"¡Si no lo está, puede cancelar la acción!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#343a40",cancelButtonColor:"#d33",confirmButtonText:"¡Sí, eliminar Diagnóstico!",cancelButtonText:"¡No, cancelar"}).then(function(e){e.value&&(window.location="index.php?ruta=diagnosticos&idDiagnostico="+i)})});